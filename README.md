
# Инструкция по запуску проекта Recipe Book

## Создание базы данных

### Подготовка:
Предполагается, что у вас установлена операционная система Windows. Для запуска проекта локально убедитесь, что у вас установлен OpenServer или XAMPP.

#### Если у вас OpenServer:
1. Кликните правой кнопкой мыши по значку OpenServer.
2. Выберите пункт меню **Дополнительно → phpMyAdmin**.
3. В браузере откроется phpMyAdmin.
4. Войдите, используя логин `root`.

#### Если у вас XAMPP:
1. Откройте **XAMPP Control Panel** и запустите модули **Apache** и **MySQL**.
2. В браузере перейдите по адресу [http://localhost/phpmyadmin](http://localhost/phpmyadmin).

### Создание базы данных:
1. В верхнем меню выберите вкладку **"Базы данных"**.
2. В поле ввода введите имя базы данных, например, `recipe-book`.
3. Выберите кодировку `utf8mb4_general_ci` и нажмите кнопку **Создать**.

## Инициализация проекта

### Подготовка папки для проекта:
1. Создайте папку, например, `recipe-book`.

   - Для OpenServer путь будет: `C:\OpenServer\domains\recipe-book`.
   - Для XAMPP путь будет: `C:\xampp\htdocs\recipe-book`.

2. После создания папки можно клонировать проект с GitHub или скачать архив:
   - Для клонирования выполните команду:
     ```bash
     git clone https://github.com/andrevmarkelov/recipe-book.git .
     ```
   - Чтобы скачать архив, нажмите **Code → Download ZIP** и распакуйте файлы в созданную папку.

## Подключение базы данных и создание таблицы

### Настройка подключения:
Откройте файл `config/database.php` и укажите свои данные:
- `host` — 127.0.0.1
- `port` — 3306
- `database` — имя вашей базы данных
- `username` — по умолчанию `root`, если вы не создавали другого пользователя
- `password` — оставьте пустым, если пароль не требуется

### Создание таблиц:
#### Вариант 1: Вручную
1. Откройте файл `database/migrations/create_recipes_table.sql` и скопируйте запрос:
    ```sql
    CREATE TABLE IF NOT EXISTS recipes (
        id INT AUTO_INCREMENT PRIMARY KEY,
        title VARCHAR(255) NOT NULL,
        slug VARCHAR(255) UNIQUE NOT NULL,
        ingredients TEXT NOT NULL,
        instructions TEXT NOT NULL,
        image_path VARCHAR(255),
        created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
        updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
    );
    ```
2. В phpMyAdmin выберите вашу базу данных `recipe-book`, откройте вкладку **SQL**, вставьте код и нажмите **Выполнить**. Таблица `recipes` будет создана.

#### Вариант 2: Миграции
1. В корне проекта откройте терминал и выполните команду:
    ```bash
    php database/migrate.php
    ```
2. Если всё успешно, вы увидите сообщение: **Миграция выполнена: create_recipes_table.sql**.

### Импорт дампа базы данных:
Если вы хотите использовать тестовые данные, дамп базы данных находится в файле `database/recipe-book.sql`. Вы можете импортировать его через phpMyAdmin.

## Описание проекта

Recipe Book — это веб-приложение для управления рецептами, где пользователи могут создавать, редактировать, удалять и просматривать рецепты.

### Структура страниц:
1. **Главная страница**:
   - Отображает все рецепты. Для удобства можно добавить пагинацию, но в рамках тестового задания она не реализована.
   - Реализован поиск (от 3 символов) и сортировка по названию рецептов.

2. **Создание рецепта**:
   - В шапке есть кнопка **"Создать рецепт"**, которая открывает форму создания.
   - Все поля обязательны для заполнения, включая валидацию на клиентской и серверной сторонах.
   - Поле `slug` уникально, генерируется автоматически на основе названия рецепта, но его можно изменить вручную.
   - Изображение рецепта сохраняется по пути `public/assets/images/recipe-images/slug.png`.

3. **Страница рецепта**:
   - Доступна по ссылке с главной страницы, на карточке рецепта.
   - Отображает изображение, ингредиенты, инструкции и дату добавления.
   - Две основные кнопки: **Редактировать** и **Удалить**.
   - При удалении отображается подтверждающее модальное окно. После подтверждения — сообщение об успешном удалении и перенаправление на главную страницу.

4. **Редактирование рецепта**:
   - Доступно со страницы рецепта через кнопку **"Редактировать"**.
   - Можно изменить все поля, кроме `slug`.
   - После успешного обновления отображается сообщение: **"Рецепт успешно обновлён"**.

### Технические особенности:
- Используется **Bootstrap** для адаптивной верстки.
- Для взаимодействия с сервером применяется `fetch` API.
- Реализована архитектура **MVC** и принципы **ООП** для удобства поддержки и масштабирования.

### Скриншоты проекта
- [Главная страница](https://i.imgur.com/qfl0Tww.png) — главная страница с рецептами и поиском.
- [Форма создания](https://i.imgur.com/JjiTtpK.png) — форма добавления нового рецепта.
- [Просмотр рецепта](https://i.imgur.com/qwoYXdC.png) — страница просмотра рецепта.
- [Редактирование рецепта](https://i.imgur.com/T7ydRpz.png) — форма редактирования рецепта.
- [Удаление рецепта](https://i.imgur.com/rERKT4J.png) — модальное окно для подтверждения удаления.
